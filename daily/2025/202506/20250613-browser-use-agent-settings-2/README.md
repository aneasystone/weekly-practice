# è¯¦è§£ Browser Use çš„ Agent ç”¨æ³•ï¼ˆäºŒï¼‰

è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ä»Šå¤©ç»§ç»­æ¥å­¦ä¹  Browser Use çš„ `Agent` é…ç½®å‚æ•°ã€‚

## å¼€å¯è§„åˆ’æ¨¡å‹

```python
planner_llm: BaseChatModel | None = None,
use_vision_for_planner: bool = False,
planner_interval: int = 1,
is_planner_reasoning: bool = False,
extend_planner_system_message: str | None = None,
```

ä¸ºäº†æ›´å¥½åœ°å¤„ç†å¤æ‚çš„å¤šæ­¥éª¤ä»»åŠ¡ï¼ŒBrowser Use æ”¯æŒé…ç½®å•ç‹¬çš„ **è§„åˆ’æ¨¡å‹ï¼ˆPlanner modelï¼‰** å¯¹ä»»åŠ¡è¿›è¡Œé«˜å±‚è§„åˆ’ï¼Œä¸Šé¢è¿™äº›å‚æ•°éƒ½æ˜¯å’Œè§„åˆ’æ¨¡å‹ç›¸å…³çš„å‚æ•°ã€‚

å‚æ•° `planner_llm` æ˜¯ LangChain çš„ ChatModelï¼Œè¡¨ç¤ºè§„åˆ’æ—¶ä½¿ç”¨çš„æ¨¡å‹ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ¯”ä¸»æ¨¡å‹æ›´å°æˆ–æ›´ä¾¿å®œçš„æ¨¡å‹ï¼›å‚æ•° `planner_interval` ç”¨äºæ§åˆ¶æ¯éš”å¤šå°‘æ­¥è§„åˆ’ä¸€æ¬¡ï¼Œé»˜è®¤æ˜¯æ¯æ­¥éƒ½è§„åˆ’ï¼›å‚æ•° `use_vision_for_planner` è¡¨ç¤ºæ˜¯å¦å¼€å¯è§†è§‰èƒ½åŠ›ï¼Œå¦‚æœæ¨¡å‹ä¸æ”¯æŒå¯ä»¥ç¦ç”¨ï¼Œå’Œ `use_vision` ä¸€æ ·ï¼Œå¦‚æœå¼€å¯è§†è§‰èƒ½åŠ›ï¼ŒBrowser Use ä¼šå°†ç½‘é¡µçš„æˆªå›¾ä¹Ÿæ·»åŠ åˆ°æ¶ˆæ¯ä¸­ï¼Œå¯ä»¥è®©å¤§æ¨¡å‹æ›´å¥½åœ°ç†è§£ç½‘é¡µå†…å®¹ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿä¼šæé«˜æˆæœ¬ã€‚

```python
agent = Agent(
  task="your task",
  llm=llm,

  # å¼€å¯è§„åˆ’æ¨¡å‹
  planner_llm=planner_llm,
  # è§„åˆ’æ—¶ç¦ç”¨è§†è§‰ï¼Œé»˜è®¤æ˜¯å¼€å¯çš„
  use_vision_for_planner=False,
  # æ¯ 4 æ­¥è§„åˆ’ä¸€æ¬¡ï¼Œé»˜è®¤æ˜¯æ¯æ­¥éƒ½è§„åˆ’
  planner_interval=4
)
```

å½“ Browser Use å¼€å¯è§„åˆ’æ¨¡å‹æ—¶ï¼Œä¼šä½¿ç”¨ä¸€æ®µé»˜è®¤çš„è§„åˆ’æç¤ºè¯ï¼Œå°†ä»»åŠ¡åˆ†è§£ä¸ºæ›´å°çš„æ­¥éª¤ï¼ˆæˆ‘ä»¬åœ¨ â€œè®°å¿†ç®¡ç†â€ ç¯‡å­¦ä¹ è¿‡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `extend_planner_system_message` åœ¨é»˜è®¤çš„æç¤ºè¯åé¢è¿½åŠ å†…å®¹ï¼›å¦å¤–ï¼Œè¿™æ®µè§„åˆ’æç¤ºè¯é»˜è®¤æ˜¯é€šè¿‡ `SystemMessage` ä¼ ç»™å¤§æ¨¡å‹çš„ï¼Œä½†æ˜¯æœ‰äº›æ¨ç†æ¨¡å‹ä¸æ”¯æŒ `SystemMessage`ï¼Œæ¯”å¦‚ o1ã€o1-mini ç­‰ï¼Œå¯ä»¥è®¾ç½® `is_planner_reasoning=True` å‚æ•°ï¼Œè¿™æ—¶è§„åˆ’æç¤ºè¯æ˜¯é€šè¿‡ `HumanMessage` ä¼ ç»™å¤§æ¨¡å‹ã€‚

### å†…å®¹æå–æ¨¡å‹

```python
page_extraction_llm: BaseChatModel | None = None,
```

åœ¨ Browser Use å†…ç½®çš„ 20 ä¸ªå·¥å…·é‡Œï¼Œæœ‰ä¸€ä¸ªå« `extract_content`ï¼Œå®ƒçš„å®ç°å¦‚ä¸‹ï¼š

```python
@self.registry.action(
  'æå–é¡µé¢å†…å®¹ä»¥è·å–ç‰¹å®šä¿¡æ¯ï¼Œå¹¶ä»¥ç»“æ„åŒ–æ ¼å¼å‘ˆç°',
)
async def extract_content(
  goal: str,
  page: Page,
  page_extraction_llm: BaseChatModel
):

  # å°†é¡µé¢å†…å®¹è½¬ä¸º Markdown æ–‡æœ¬
  content = markdownify.markdownify(await page.content(), strip=strip)

  # å†…å®¹æå–æç¤ºè¯
  prompt = '''
  æ‚¨çš„ä»»åŠ¡æ˜¯æå–é¡µé¢çš„å†…å®¹ã€‚
  æ‚¨å°†è·å¾—ä¸€ä¸ªé¡µé¢å’Œä¸€ä¸ªç›®æ ‡ï¼Œæ‚¨åº”è¯¥ä»é¡µé¢ä¸­æå–ä¸æ­¤ç›®æ ‡ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ã€‚
  å¦‚æœç›®æ ‡æ¨¡ç³Šï¼Œè¯·æ€»ç»“é¡µé¢ã€‚
  è¯·ä»¥ JSON æ ¼å¼å“åº”ã€‚
  æå–ç›®æ ‡ï¼š{goal}ï¼Œé¡µé¢ï¼š{page}'''
  template = PromptTemplate(input_variables=['goal', 'page'], template=prompt)

  # è°ƒç”¨å†…å®¹æå–å¤§æ¨¡å‹
  output = await page_extraction_llm.ainvoke(
    template.format(goal=goal, page=content))
  msg = f'ğŸ“„  Extracted from page\n: {output.content}\n'
  return ActionResult(extracted_content=msg, include_in_memory=True)
```

å®ƒä½¿ç”¨å†…å®¹æå–æ¨¡å‹ï¼Œä»é¡µé¢ä¸­æå–ç‰¹å®šçš„å†…å®¹ï¼Œå¹¶è¿”å› JSON æ ¼å¼ã€‚å‚æ•° `page_extraction_llm` ç”¨äºé…ç½®å†…å®¹æå–ä½¿ç”¨çš„æ¨¡å‹ï¼Œå¦‚æœä¸é…ç½®ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯ä¸»æ¨¡å‹ã€‚

## åˆå§‹åŠ¨ä½œ

```python
initial_actions: list[dict[str, dict[str, Any]]] | None = None,
```

æ˜¨å¤©åœ¨å­¦ä¹ æµè§ˆå™¨è®¾ç½®æ—¶ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­ï¼Œå…ˆé€šè¿‡ Playwright åšä¸€äº›å›ºå®šçš„åŠ¨ä½œï¼Œæ¯”å¦‚æ‰“å¼€æŸä¸ªé¡µé¢ï¼Œç„¶åå†è®© Browser Use åŸºäºè¿™ä¸ªé¡µé¢å®ŒæˆæŸä¸ªä»»åŠ¡ã€‚å…¶å®ï¼Œè¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•æ¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼š

```python
initial_actions = [
  {'open_tab': {'url': 'https://playwright.dev'}},
]

agent = Agent(
  task="è¿™ä¸ªé¡µé¢è®²çš„æ˜¯å†…å®¹ï¼Ÿ",
  llm=llm,

  # åˆå§‹åŒ–åŠ¨ä½œ
  initial_actions=initial_actions
)
result = await agent.run()
```

é€šè¿‡ `initial_actions` å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ²¡æœ‰å¤§æ¨¡å‹çš„æƒ…å†µä¸‹è¿è¡Œåˆå§‹åŠ¨ä½œï¼Œå¯¹äºä¸€äº›åˆå§‹åŠ¨ä½œç›¸å¯¹å›ºå®šçš„åœºæ™¯ï¼Œè¿™æ ·åšå¯ä»¥èŠ‚çœå¤§é‡ tokenã€‚å‚è€ƒ [Controller æºç ](https://github.com/browser-use/browser-use/blob/main/browser_use/controller/service.py) æ‰¾åˆ°æ‰€æœ‰å¯ç”¨çš„åŠ¨ä½œä»¥åŠå¯¹åº”çš„å‚æ•°ã€‚

## ä¿å­˜ä¼šè¯è®°å½•

```python
save_conversation_path: str | None = None,
save_conversation_path_encoding: str | None = 'utf-8',
```

è¿™ä¸ªå‚æ•°ä¸€èˆ¬ç”¨äºè°ƒè¯•å’Œç ”ç©¶ï¼Œæˆ‘ä»¬çŸ¥é“ Browser Use é€šè¿‡ä¸æ–­çš„è°ƒç”¨å¤§æ¨¡å‹è·å–ä¸‹ä¸€æ­¥åŠ¨ä½œï¼Œå¦‚æœå¯¹è¿™ä¸ªè¿‡ç¨‹æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ– `Agent` æ—¶åŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼š

```python
agent = Agent(
  task="Compare the price of gpt-4.1-mini and DeepSeek-V3",
  llm=llm,

  # ä¿å­˜ä¼šè¯è®°å½•
  save_conversation_path="logs/conversation",
  # ä¼šè¯è®°å½•æ–‡ä»¶ç¼–ç 
  save_conversation_path_encoding="utf-8",
)
```

è¿è¡Œç»“æŸåä¼šåœ¨ `logs/conversation` ç›®å½•ä¸‹ç”Ÿæˆæ¯ä¸€æ­¥ä½¿ç”¨çš„ Prompt ä»¥åŠå¤§æ¨¡å‹è¾“å‡ºçš„ç»“æœï¼Œæ–¹ä¾¿å®šä½å“ªä¸€æ­¥å‡ºäº†é—®é¢˜ã€‚ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œæ–‡ä»¶ä¸­åªåŒ…å«æ–‡æœ¬ç±»å‹çš„æ¶ˆæ¯ï¼Œä¸åŒ…å« functions å‚æ•°æˆ–å›¾ç‰‡ç±»å‹ã€‚

## ä¿ç•™å…³é”®çš„å…ƒç´ å±æ€§

```python		
include_attributes: list[str] = [
  'title',
  'type',
  'name',
  'role',
  'aria-label',
  'placeholder',
  'value',
  'alt',
  'aria-expanded',
  'data-date-format',
  'checked',
  'data-state',
  'aria-checked',
],
```

è¿™æ˜¯ä¸€ä¸ªé«˜çº§å‚æ•°ï¼Œå¹¶ä¸å¸¸ç”¨ï¼Œå¤§å¤šæ•°åœºæ™¯ä¸‹ä½¿ç”¨é»˜è®¤å€¼å³å¯ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥å‚æ•°çœ‹çœ‹ Browser Use çš„ä¸€äº›åº•å±‚ç»†èŠ‚ã€‚

Browser Use åœ¨è°ƒç”¨å¤§æ¨¡å‹å†³å®šä¸‹ä¸€æ­¥åŠ¨ä½œæ—¶ï¼Œä¼šå°†å½“å‰ç½‘é¡µçš„æºç ä¹Ÿä½œä¸ºä¸Šä¸‹æ–‡ä¸€èµ·ä¼ è¿‡å»ã€‚åœ¨è¿™é‡Œ Browser Use å¹¶æ²¡æœ‰ä½¿ç”¨å®Œæ•´çš„ HTML æºç ï¼Œè€Œæ˜¯åªä¿ç•™äº†ä¸€äº›å¯ç‚¹å‡»çš„å…³é”®å…ƒç´ ï¼ˆå¹¶ä¸ºæ¯ä¸ªå…ƒç´ æ ‡ä¸Šåºå·ï¼Œæ–¹ä¾¿å¤§æ¨¡å‹ç‚¹å‡»æˆ–è¾“å…¥ï¼‰ï¼Œè€Œä¸”åªä¿ç•™è¿™äº›å…ƒç´ çš„éƒ¨åˆ†å±æ€§ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§å·§å¦™çš„èŠ‚çœ token çš„åšæ³•ã€‚

é»˜è®¤ä¿ç•™çš„å±æ€§å¦‚ä¸Šæ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ°è¿™äº›å±æ€§å¤šå°‘éƒ½å¸¦ç‚¹è¯­ä¹‰ä¿¡æ¯ã€‚å…¶ä¸­ä»¥ `aria-` å¼€å¤´çš„å±æ€§æ˜¯ **Accessible Rich Internet Applications (ARIA)** çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºæ”¹å–„ Web åº”ç”¨ç¨‹åºå’Œç½‘ç«™çš„å¯è®¿é—®æ€§ã€‚è¿™äº›å±æ€§æä¾›äº†é¢å¤–çš„ä¿¡æ¯ï¼Œä½¿å¾—æ— éšœç¢è¾…åŠ©æŠ€æœ¯ï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ï¼‰èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œæè¿°é¡µé¢ä¸Šçš„åŠ¨æ€å†…å®¹å’Œç”¨æˆ·ç•Œé¢å…ƒç´ çš„åŠŸèƒ½ã€‚

å¦‚æœé€šè¿‡ `save_conversation_path` å‚æ•°å¼€å¯ä¼šè¯è®°å½•ï¼Œå¯ä»¥åœ¨ä¼šè¯è®°å½•æ–‡ä»¶ä¸­çœ‹åˆ°é¡µé¢å†…å®¹æ˜¯è¿™æ ·çš„ï¼š

```
[Start of page]
[0]<a >Gmail />
[1]<a aria-label='æœç´¢å›¾ç‰‡ '>å›¾ç‰‡ />
[2]<a aria-label='Google åº”ç”¨' aria-expanded='false' role='button' />
[3]<a >ç™»å½• />
[4]<textarea title='Google æœç´¢' value='' aria-label='æœç´¢' placeholder='' aria-expanded='false' name='q' role='combobox' />
[5]<div  />
[6]<div aria-label='æŒ‰å›¾æœç´¢' role='button' />
[7]<input value='Google æœç´¢' aria-label='Google æœç´¢' name='btnK' role='button' type='submit' />
[8]<input value='Â æ‰‹æ°”ä¸é”™Â ' aria-label='Â æ‰‹æ°”ä¸é”™Â ' name='btnI' type='submit' />
Google æä¾›ï¼š
[9]<a >ç¹é«”ä¸­æ–‡ />
[10]<a >English />
é¦™æ¸¯
[11]<a >å…³äº Google />
[12]<a >å¹¿å‘Š />
[13]<a >å•†åŠ¡ />
[14]<a >Google æœç´¢çš„è¿ä½œæ–¹å¼ />
[15]<a >éšç§æƒ />
[16]<a >æ¡æ¬¾ />
[17]<div aria-expanded='false' role='button'>è®¾ç½® />
[End of page]
```

å¦‚æœè°ƒè¯•æ—¶å‘ç°é¡µé¢å†…å®¹ä¸­ä¸¢å¤±äº†éƒ¨åˆ†å…³é”®ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ `include_attributes` å‚æ•°æ¥è°ƒæ•´ã€‚

## å¼€å¯è¾“å‡ºæ ¡éªŒ

```python
validate_output: bool = False,
```

è¿™ä¸ªå‚æ•°å¯¹æœ€ç»ˆçš„è¾“å‡ºç»“æœè¿›è¡Œæ ¡éªŒï¼Œç¡®ä¿è¾“å‡ºçš„å‡†ç¡®æ€§ï¼Œé»˜è®¤ä¸å¼€å¯ã€‚å½“å¼€å¯åï¼ŒBrowser Use ä¼šåœ¨å®Œæˆä»»åŠ¡ä¹‹å‰å†è°ƒç”¨ä¸€æ¬¡ `_validate_output()` æ–¹æ³•ï¼Œè¯¥æ–¹æ³•é€šè¿‡è°ƒç”¨å¤§æ¨¡å‹åˆ¤æ–­ç”¨æˆ·ä»»åŠ¡æ˜¯å¦çœŸçš„å®Œæˆï¼š

```python
if self.state.history.is_done():
  if self.settings.validate_output and step < max_steps - 1:
    if not await self._validate_output():
      continue

  await self.log_completion()
  break
```

æ ¡éªŒçš„ç»“æœä¸º JSON æ ¼å¼ï¼ŒåŒ…å« `is_valid` å’Œ `reason` ä¸¤ä¸ªå­—æ®µï¼š

```json
{
  "is_valid": false, 
  "reason": "The user wanted to search for 'cat photos', but the agent searched for 'dog photos' instead."
}
```

å¦‚æœæ ¡éªŒé€šè¿‡ï¼Œåˆ™è·³å‡ºå¾ªç¯ï¼›å¦‚æœä¸é€šè¿‡ï¼Œåˆ™å°†ä¸é€šè¿‡çš„åŸå› æ·»åŠ åˆ°æ¶ˆæ¯ä¸­ï¼Œç»§ç»­ä¸‹ä¸€è½®ã€‚

### å¤±è´¥é‡è¯•

```python
max_failures: int = 3,
retry_delay: int = 10,
```

Browser Use åœ¨é‡åˆ°å¼‚å¸¸æƒ…å†µæ—¶èƒ½è‡ªåŠ¨é‡è¯•ï¼Œå‚æ•° `max_failures` è¡¨ç¤ºæœ€å¤§é‡è¯•æ¬¡æ•°ã€‚å®ƒèƒ½å¤„ç†ä¸‹é¢è¿™äº›å¼‚å¸¸æƒ…å†µï¼š

* **æµè§ˆå™¨è¢«å¼‚å¸¸å…³é—­**ï¼šç›´æ¥è¿”å› `æµè§ˆå™¨è¢«å…³é—­ï¼Œæ— æ³•å¤„ç†` çš„é”™è¯¯ï¼ŒBrowser Use ä¼šé‡æ–°æ‰“å¼€æµè§ˆå™¨é‡è¯•ï¼›
* **è¾¾åˆ° token ä¸Šé™**ï¼šè°ƒç”¨æ¶ˆæ¯ç®¡ç†çš„ `cut_messages()` æ–¹æ³•ï¼Œå°†æ¶ˆæ¯è£å‰ªæˆä¸è¶…è¿‡ `max_input_tokens` å€¼ï¼›
* **å¤§æ¨¡å‹å“åº”æ— æ³•è§£æ**ï¼šè¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå¹¶åœ¨åé¢å¢åŠ ä¸€æ®µæç¤ºï¼Œ`è¯·è¿”å›ä¸€ä¸ªåŒ…å«æ‰€éœ€å­—æ®µçš„æœ‰æ•ˆ JSON å¯¹è±¡`ï¼›
* **æ¥å£é™æµé”™è¯¯**ï¼šè®¿é—® OpenAI æˆ– Anthropic æ¥å£è¿‡å¿«æ—¶å¯èƒ½ä¼šé‡åˆ°è¿™ä¸ªé”™è¯¯ï¼ŒBrowser Use ä¼šæ ¹æ® `retry_delay` å‚æ•°ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œé»˜è®¤æ˜¯ 10 ç§’ï¼Œç„¶åé‡è¯•ï¼›
* **å…¶ä»–å¼‚å¸¸**ï¼šç›´æ¥è¿”å›é”™è¯¯ä¿¡æ¯ï¼›

## ç”Ÿæˆ GIF åŠ¨ç”»

```python
generate_gif: bool | str = False,
```

è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰ Browser Use ç‰¹è‰²çš„åŠŸèƒ½ï¼ŒBrowser Use åœ¨æ¯æ¬¡æ“ä½œæµè§ˆæ—¶éƒ½ä¼šå¯¹é¡µé¢è¿›è¡Œæˆªå±ï¼Œè¿™ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯å°†è¿™äº›æˆªå±æ‹¼æ¥æˆä¸€ä¸ª GIF åŠ¨ç”»ï¼ŒåŠ¨ç”»ä¸­è¿˜ä¼šåŠ å…¥ç”¨æˆ·çš„ä»»åŠ¡å’Œæ¯ä¸€æ­¥çš„ç›®æ ‡ï¼Œå¯ä»¥éå¸¸å½¢è±¡åœ°æ¼”ç¤º Browser Use çš„è¿è¡Œè¿‡ç¨‹ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š

```python
agent = Agent(
  task="æŸ¥è¯¢ã€Šå“ªå’2é­”ç«¥é—¹æµ·ã€‹çš„è±†ç“£è¯„åˆ†",
  llm=llm,

  # ç”Ÿæˆ GIF åŠ¨ç”»
  generate_gif=True
)
```

è¿è¡Œç»“æŸåï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `agent_history.gif` æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![](./images/agent_history.gif)

æ³¨æ„ï¼Œå¦‚æœä½ ç”Ÿæˆçš„åŠ¨ç”»é‡Œä¸­æ–‡æ˜¾ç¤ºä¹±ç ï¼Œå¤§æ¦‚ç‡æ˜¯æ²¡æ‰¾åˆ°å­—ä½“æ–‡ä»¶å¯¼è‡´çš„ã€‚Browser Use ä½¿ç”¨ PIL åº“çš„ `ImageDraw` åœ¨å›¾ç‰‡ä¸Šç»˜åˆ¶æ–‡æœ¬ï¼ŒæŒ‰é¡ºåºæ£€æµ‹ä¸‹é¢è¿™äº›å­—ä½“æ˜¯å¦å­˜åœ¨ï¼ˆå‚è€ƒ `browser_use/agent/gif.py` æ–‡ä»¶ä¸­çš„ `font_options` æ•°ç»„ï¼‰ï¼š

```python
font_options = [
  'Microsoft YaHei',  # å¾®è½¯é›…é»‘
  'SimHei',  # é»‘ä½“
  'SimSun',  # å®‹ä½“
  'Noto Sans CJK SC',  # æ€æºé»‘ä½“
  'WenQuanYi Micro Hei',  # æ–‡æ³‰é©¿å¾®ç±³é»‘
  'Helvetica',
  'Arial',
  'DejaVuSans',
  'Verdana',
]
```

å‰å‡ ä¸ªæ˜¯ä¸­æ–‡å­—ä½“ï¼Œä¸è¿‡åœ¨ macOS ä¸Šé»˜è®¤æ˜¯æ²¡æœ‰çš„ï¼ŒåŠ ä¸Š macOS å†…ç½®çš„ä¸­æ–‡å­—ä½“ `STHeiti Light` æˆ– `STHeiti Medium` å³å¯ã€‚

## ç”Ÿæˆ Playwright è„šæœ¬

```python
save_playwright_script_path: str | None = None,
```

è¿™ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„åŠŸèƒ½ï¼ŒBrowser Use åœ¨è¿è¡Œç»“æŸåï¼Œå¯ä»¥å°†æ“ä½œå†å²è½¬å­˜æˆä¸€ä¸ª Playwright è„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬å…¶å®å°±æ˜¯ä¸€ä¸ª Python æ–‡ä»¶ï¼Œé‡Œé¢çš„ä»£ç æ˜¯è°ƒç”¨ Playwright çš„å„ä¸ªæ–¹æ³•ï¼Œé‡æ”¾ Browser Use çš„æ•´ä¸ªæ“ä½œè¿‡ç¨‹ã€‚è¿™ä¸ªåŠŸèƒ½é€‚ç”¨äºä¸‹é¢è¿™äº›åº”ç”¨åœºæ™¯ï¼š

* **è‡ªåŠ¨åŒ–å‰ç«¯æµ‹è¯•**ï¼šé€šè¿‡è®©æ™ºèƒ½ä½“è‡ªåŠ¨æ¢ç´¢åº”ç”¨åŠŸèƒ½ï¼Œå¿«é€Ÿç”Ÿæˆ Playwright æµ‹è¯•è„šæœ¬ï¼Œå¤§å¹…å‡å°‘æ‰‹åŠ¨ç¼–å†™è„šæœ¬çš„æ—¶é—´ã€‚è¿™äº›æ ‡å‡†åŒ–è„šæœ¬å¯ä»¥åœ¨ CI/CD ä¸­æ‰§è¡Œï¼Œç”¨äºå›å½’æµ‹è¯•ï¼›
* **å¯é çš„ä»»åŠ¡è‡ªåŠ¨åŒ–**ï¼šå°†æ™ºèƒ½ä½“æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆä¾‹å¦‚å¡«å†™è¡¨å•ã€å¯¼èˆªå¤æ‚æµç¨‹ã€ä¸‹è½½æ–‡ä»¶ç­‰ï¼‰è½¬æ¢ä¸ºç¡®å®šæ€§çš„è„šæœ¬ï¼Œä»¥è¿›è¡Œé‡å¤æ‰§è¡Œï¼Œé¿å…ä½¿ç”¨å¤§æ¨¡å‹å¸¦æ¥çš„æˆæœ¬å’Œç»“æœæ³¢åŠ¨ï¼›
* **è°ƒè¯•ä¸å›æ”¾**ï¼šé€šè¿‡æ‰§è¡Œç”Ÿæˆçš„è„šæœ¬ï¼Œè½»æ¾é‡ç°æ™ºèƒ½ä½“çš„å…·ä½“è¿è¡Œè¿‡ç¨‹ï¼Œç”¨äºè°ƒè¯•ç›®çš„ï¼›

ä¸è¿‡å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå‚æ•°åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­å·²ç»è¢«ç§»é™¤äº†ã€‚æˆ‘ä¹‹æ‰€ä»¥ä»‹ç»å®ƒï¼Œæ˜¯å› ä¸ºè¿™ä¸ªå‚æ•°ç›´æ¥æ´¾ç”Ÿäº†ä¸€ä¸ªæ–°çš„å¼€æºé¡¹ç›® [Workflow Use](https://github.com/browser-use/workflow-use)ï¼Œä¸“é—¨ç”¨æ¥åˆ›å»ºå’Œæ‰§è¡Œç¡®å®šæ€§çš„å·¥ä½œæµè„šæœ¬ï¼Œç›®å‰è¿™ä¸ªé¡¹ç›®è¿˜å¤„äºå¾ˆæ—©æœŸçš„é˜¶æ®µï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€æ³¢ã€‚

![](./images/workflow-use.png)

## æœªå®Œå¾…ç»­

ä»Šå¤©çš„å­¦ä¹ å°±åˆ°è¿™äº†ï¼Œåˆæ”¶è·ä¸€å † Browser Use çš„å°æŠ€å·§ï¼Œå…³äº `Agent` çš„é…ç½®å‚æ•°è¿˜å‰©ä¸€äº›ï¼Œæˆ‘ä»¬æ˜å¤©ç»§ç»­ã€‚
